{"version":3,"file":"index.js","sourceRoot":"./","sources":["src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAOA,6CAA+B;AAC/B,+BAAgC;AAChC,6CAA+B;AAC/B,iCAA8B;AAE9B,WAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAElB,MAAM,QAAQ,GAAG;IACf;QACE,KAAK,EAAE,SAAS;QAChB,IAAI,EAAE,KAAK,IAAI,EAAE;YACf,IAAI;gBACF,MAAM,aAAa,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAEzD,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAA;gBAC1B,EAAE,CAAC,cAAc,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAA;aAE/D;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aACtB;YAAA,CAAC;QACJ,CAAC;KACF;IACD;QACE,KAAK,EAAE,SAAS;QAChB,IAAI,EAAE,KAAK,IAAI,EAAE;YACf,IAAI;gBACF,MAAM,aAAa,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;aAG5D;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aACtB;YAAA,CAAC;QACJ,CAAC;KACF;IACD;QACE,KAAK,EAAE,SAAS;QAChB,IAAI,EAAE,KAAK,IAAI,EAAE;YACf,IAAI;gBACF,MAAM,aAAa,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;aAI5D;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aACtB;YAAA,CAAC;QACJ,CAAC;KACF;CACF,CAAC;AAEF,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;AACrD,KAAK;KACF,GAAG,EAAE;KACL,IAAI,CAAC,CAAC,aAAa,EAAE,EAAE;IACtB,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAA;AAC5B,CAAC,CAAC;KACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA","sourcesContent":["/*\n * @Author: xuziyong\n * @Date: 2021-10-17 00:27:00\n * @LastEditors: xuziyong\n * @LastEditTime: 2021-10-17 11:15:04\n * @Description: TODO\n */\nimport * as execa from \"execa\";\nimport Listr = require(\"listr\");\nimport * as fs from 'fs-extra';\nimport { logx } from './logx';\n\nlogx.info('开始运行');\n\nconst taskList = [\n  {\n    title: '检查npm版本',\n    task: async () => {\n      try {\n        const subprocessRes = await execa.command('npm install');\n        // subprocessRes.stdout.pipe(process.stdout)\n        console.log(subprocessRes)\n        fs.outputFileSync('./msg.json', JSON.stringify(subprocessRes))\n\n      } catch (error) {\n        console.error(error);\n      };\n    }\n  },\n  {\n    title: '检查git版本',\n    task: async () => {\n      try {\n        const subprocessRes = await execa.command('git --version');\n        // await console.log(subprocessRes.stdout)\n\n      } catch (error) {\n        console.error(error);\n      };\n    }\n  },\n  {\n    title: '检查vue版本',\n    task: async () => {\n      try {\n        const subprocessRes = await execa.command('vue --version');\n        // console.log(subprocessRes)\n        // subprocess.\n\n      } catch (error) {\n        console.error(error);\n      };\n    }\n  },\n];\n\nconst tasks = new Listr(taskList, { concurrent: 3 });\ntasks\n  .run()\n  .then((subprocessRes) => {\n    console.log(subprocessRes)\n  })\n  .catch(err => console.error(err))"]}